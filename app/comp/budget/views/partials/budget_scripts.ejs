<!-- <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script> -->
<script>
    $(document).ready(function () {
        console.log('budget_scripts.ejs');
        var donut = undefined;
        var ddata = [{
                label: "Routine",
                value: 25
            },
            {
                label: "Periodic",
                value: 70
            },
            {
                label: "Emergency",
                value: 5
            }
        ];

        function paintDonutChart() {

            if ($('#Routine').val().length > 0) {
                ddata[0].value = $('#Routine').val() * $('#amount').val() / 100;
            } else {
                ddata[0].value = 25 * $('#amount').val() / 100;

            }
            if ($('#Periodic').val().length > 0) {
                ddata[1].value = $('#Periodic').val() * $('#amount').val() / 100;
            } else {
                ddata[1].value = 70 * $('#amount').val() / 100;

            }
            if ($('#Emergency').val().length > 0) {
                ddata[2].value = $('#Emergency').val() * $('#amount').val() / 100;
            } else {
                ddata[2].value = 5 * $('#amount').val() / 100;

            }

            if (donut === undefined) {

                donut = Morris.Donut({
                    // ID of the element in which to draw the chart.
                    element: 'myfirstchart',
                    // Chart data records -- each entry in this array corresponds to a point on
                    // the chart.
                    data: ddata
                });
            } else {
                donut.setData(ddata);
            }

        }

        $('#Summary').click(function () {
            alert('Summary');
        });

        $('#Annualavailablebudget').click(function () {
            $('#amountdiv').toggle('blind', {}, 500);
        });

        $('#amountdiv').keyup(function (event) {
            $('#InvestmentFY2018').val('EC$ ' + $('#amount').val());
            paintDonutChart();
        });

        $('#Routine').keyup(function (event) {
            $('#disabledInputRoutine').val('EC$ ' + $('#amount').val() * $('#Routine').val() / 100);
            paintDonutChart();
        });
        $('#Periodic').keyup(function (event) {
            $('#disabledInputPeriodic').val('EC$ ' + $('#amount').val() * $('#Periodic').val() / 100);
            paintDonutChart();
        });
        $('#Emergency').keyup(function (event) {
            $('#disabledInputEmergency').val('EC$ ' + $('#amount').val() * $('#Emergency').val() / 100);
            paintDonutChart();
        });
    });
</script>